
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="http://yankunqiu.me/AWS/Solution%20Architect%20Associate/Simple%20Storage%20Service%28S3%29/">
      
      <link rel="icon" href="../../../images/critical-thinking.gif">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>Simple Storage Service(S3) - Take Notes With Me</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#s3-security-resource-policies-acls" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Take Notes With Me" class="md-header__button md-logo" aria-label="Take Notes With Me" data-md-component="logo">
      
  <img src="../../../images/brain.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Take Notes With Me
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Simple Storage Service(S3)
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/MarcosQiu/my-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    MarcosQiu/my-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Take Notes With Me" class="md-nav__button md-logo" aria-label="Take Notes With Me" data-md-component="logo">
      
  <img src="../../../images/brain.png" alt="logo">

    </a>
    Take Notes With Me
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/MarcosQiu/my-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    MarcosQiu/my-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Welcome!
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          AWS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="AWS" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          AWS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Solution Architect Associate
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Solution Architect Associate" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Solution Architect Associate
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Simple Storage Service(S3)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Simple Storage Service(S3)
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#s3-security-resource-policies-acls" class="md-nav__link">
    S3 Security (Resource Policies &amp; ACLs)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-static-hosting" class="md-nav__link">
    S3 Static Hosting
  </a>
  
    <nav class="md-nav" aria-label="S3 Static Hosting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pricing" class="md-nav__link">
    Pricing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-versioning-mfa-delete" class="md-nav__link">
    Object Versioning &amp; MFA Delete
  </a>
  
    <nav class="md-nav" aria-label="Object Versioning &amp; MFA Delete">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enabledisablesuspend-versioning" class="md-nav__link">
    Enable/Disable/Suspend Versioning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#without-versioning" class="md-nav__link">
    Without Versioning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with-versioning" class="md-nav__link">
    With Versioning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mfa-delete" class="md-nav__link">
    MFA Delete
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-performance-optimization" class="md-nav__link">
    S3 Performance Optimization
  </a>
  
    <nav class="md-nav" aria-label="S3 Performance Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upload-objects-with-single-put-request" class="md-nav__link">
    Upload objects with single PUT request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-objects-with-multiple-put-requests" class="md-nav__link">
    Upload objects with multiple PUT requests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#s3-accelerated-transfer" class="md-nav__link">
    S3 accelerated transfer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encryption" class="md-nav__link">
    Encryption
  </a>
  
    <nav class="md-nav" aria-label="Encryption">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encryption-approaches" class="md-nav__link">
    Encryption Approaches
  </a>
  
    <nav class="md-nav" aria-label="Encryption Approaches">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encryption-at-rest" class="md-nav__link">
    Encryption At Rest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption-in-transit" class="md-nav__link">
    Encryption In Transit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption-concepts" class="md-nav__link">
    Encryption Concepts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#symmetric-encryption" class="md-nav__link">
    Symmetric Encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asymmetric-encryption" class="md-nav__link">
    Asymmetric Encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signing" class="md-nav__link">
    Signing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steganography" class="md-nav__link">
    Steganography
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-management-service-kms" class="md-nav__link">
    Key Management Service (KMS)
  </a>
  
    <nav class="md-nav" aria-label="Key Management Service (KMS)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cmk-customer-master-key" class="md-nav__link">
    CMK - Customer Master Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-and-cmks" class="md-nav__link">
    KMS and CMKs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-encryption-keys-deks" class="md-nav__link">
    Data Encryption Keys (DEKs)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-encryption" class="md-nav__link">
    Object Encryption
  </a>
  
    <nav class="md-nav" aria-label="Object Encryption">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sse-c" class="md-nav__link">
    SSE-C
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sse-s3" class="md-nav__link">
    SSE-S3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sse-kms" class="md-nav__link">
    SSE-KMS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucket-default-encryption" class="md-nav__link">
    Bucket Default Encryption
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-object-storage-class" class="md-nav__link">
    S3 Object Storage Class
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-lifecycle-configuration" class="md-nav__link">
    S3 Lifecycle Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-replication" class="md-nav__link">
    S3 Replication
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-presigned-urls" class="md-nav__link">
    S3 Presigned URLs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-select-and-glacier-select" class="md-nav__link">
    S3 Select and Glacier Select
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-events" class="md-nav__link">
    S3 Events
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-access-logs" class="md-nav__link">
    S3 Access Logs
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          C++ Primer Plus Solutions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="C++ Primer Plus Solutions" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          C++ Primer Plus Solutions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../C%2B%2B%20Primer%20Plus%20Solutions/Chapter%202/" class="md-nav__link">
        Chapter 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../C%2B%2B%20Primer%20Plus%20Solutions/Chapter%203/" class="md-nav__link">
        Chapter 3
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Leetcode
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Leetcode" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Leetcode
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          Array
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Array" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Array
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Array/1.%20Two%20Sum/" class="md-nav__link">
        1. Two Sum
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Array/665.%20Non-decreasing%20Array/" class="md-nav__link">
        665. Non decreasing Array
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Data Structure
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Structure" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Data Structure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Data%20Structure/460.%20LFU%20Cache/" class="md-nav__link">
        460. LFU Cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Data%20Structure/622.%20Design%20Circular%20Queue/" class="md-nav__link">
        622. Design Circular Queue
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Greedy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Greedy" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Greedy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Greedy/122.%20Best%20Time%20to%20Buy%20and%20Sell%20Stock%20II/" class="md-nav__link">
        122. Best Time to Buy and Sell Stock II
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Greedy/135.%20Candy/" class="md-nav__link">
        135. Candy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Greedy/406.%20Queue%20Reconstruction%20by%20Height/" class="md-nav__link">
        406. Queue Reconstruction by Height
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Greedy/435.%20Non-overlapping%20Intervals/" class="md-nav__link">
        435. Non overlapping Intervals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Greedy/452.%20Minimum%20Number%20of%20Arrows%20to%20Burst%20Balloons/" class="md-nav__link">
        452. Minimum Number of Arrows to Burst Balloons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Greedy/455.%20Assign%20Cookies/" class="md-nav__link">
        455. Assign Cookies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Greedy/605.%20Can%20Place%20Flowers/" class="md-nav__link">
        605. Can Place Flowers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Greedy/763.%20Partition%20Labels/" class="md-nav__link">
        763. Partition Labels
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4">
          Linked List
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linked List" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Linked List
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Linked%20List/138.%20Copy%20List%20with%20Random%20Pointer/" class="md-nav__link">
        138. Copy List with Random Pointer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Linked%20List/143.%20Reorder%20List/" class="md-nav__link">
        143. Reorder List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Linked%20List/237.%20Delete%20Node%20in%20a%20Linked%20List/" class="md-nav__link">
        237. Delete Node in a Linked List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Linked%20List/25.%20Reverse%20Nodes%20in%20k-Group/" class="md-nav__link">
        25. Reverse Nodes in k Group
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Linked%20List/328.%20Odd%20Even%20Linked%20List/" class="md-nav__link">
        328. Odd Even Linked List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Linked%20List/426.%20Convert%20Binary%20Search%20Tree%20to%20Sorted%20Doubly%20Linked%20List/" class="md-nav__link">
        426. Convert Binary Search Tree to Sorted Doubly Linked List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Linked%20List/445.%20Add%20Two%20Numbers%20II/" class="md-nav__link">
        445. Add Two Numbers II
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5">
          Sliding Window
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sliding Window" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Sliding Window
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Sliding%20Window/1004.%20Max%20Consecutive%20Ones%20III/" class="md-nav__link">
        1004. Max Consecutive Ones III
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Sliding%20Window/30.%20Substring%20with%20Concatenation%20of%20All%20Words/" class="md-nav__link">
        30. Substring with Concatenation of All Words
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Sliding%20Window/424.%20Longest%20Repeating%20Character%20Replacement/" class="md-nav__link">
        424. Longest Repeating Character Replacement
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Sliding%20Window/438.%20Find%20All%20Anagrams%20in%20a%20String/" class="md-nav__link">
        438. Find All Anagrams in a String
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Sliding%20Window/567.%20Permutation%20in%20String/" class="md-nav__link">
        567. Permutation in String
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Sliding%20Window/713.%20Subarray%20Product%20Less%20Than%20K/" class="md-nav__link">
        713. Subarray Product Less Than K
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" type="checkbox" id="__nav_4_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_6">
          Two Pointers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Two Pointers" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Two Pointers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Two%20Pointers/16.%203Sum%20Closest/" class="md-nav__link">
        16. 3Sum Closest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Two%20Pointers/26.%20Remove%20Duplicates%20from%20Sorted%20Array/" class="md-nav__link">
        26. Remove Duplicates from Sorted Array
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Two%20Pointers/75.%20Sort%20Colors/" class="md-nav__link">
        75. Sort Colors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Leetcode/Two%20Pointers/977.%20Squares%20of%20a%20Sorted%20Array/" class="md-nav__link">
        977. Squares of a Sorted Array
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#s3-security-resource-policies-acls" class="md-nav__link">
    S3 Security (Resource Policies &amp; ACLs)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-static-hosting" class="md-nav__link">
    S3 Static Hosting
  </a>
  
    <nav class="md-nav" aria-label="S3 Static Hosting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pricing" class="md-nav__link">
    Pricing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-versioning-mfa-delete" class="md-nav__link">
    Object Versioning &amp; MFA Delete
  </a>
  
    <nav class="md-nav" aria-label="Object Versioning &amp; MFA Delete">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enabledisablesuspend-versioning" class="md-nav__link">
    Enable/Disable/Suspend Versioning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#without-versioning" class="md-nav__link">
    Without Versioning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with-versioning" class="md-nav__link">
    With Versioning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mfa-delete" class="md-nav__link">
    MFA Delete
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-performance-optimization" class="md-nav__link">
    S3 Performance Optimization
  </a>
  
    <nav class="md-nav" aria-label="S3 Performance Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upload-objects-with-single-put-request" class="md-nav__link">
    Upload objects with single PUT request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-objects-with-multiple-put-requests" class="md-nav__link">
    Upload objects with multiple PUT requests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#s3-accelerated-transfer" class="md-nav__link">
    S3 accelerated transfer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encryption" class="md-nav__link">
    Encryption
  </a>
  
    <nav class="md-nav" aria-label="Encryption">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encryption-approaches" class="md-nav__link">
    Encryption Approaches
  </a>
  
    <nav class="md-nav" aria-label="Encryption Approaches">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encryption-at-rest" class="md-nav__link">
    Encryption At Rest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption-in-transit" class="md-nav__link">
    Encryption In Transit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encryption-concepts" class="md-nav__link">
    Encryption Concepts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#symmetric-encryption" class="md-nav__link">
    Symmetric Encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asymmetric-encryption" class="md-nav__link">
    Asymmetric Encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signing" class="md-nav__link">
    Signing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steganography" class="md-nav__link">
    Steganography
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-management-service-kms" class="md-nav__link">
    Key Management Service (KMS)
  </a>
  
    <nav class="md-nav" aria-label="Key Management Service (KMS)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cmk-customer-master-key" class="md-nav__link">
    CMK - Customer Master Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kms-and-cmks" class="md-nav__link">
    KMS and CMKs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-encryption-keys-deks" class="md-nav__link">
    Data Encryption Keys (DEKs)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-encryption" class="md-nav__link">
    Object Encryption
  </a>
  
    <nav class="md-nav" aria-label="Object Encryption">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sse-c" class="md-nav__link">
    SSE-C
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sse-s3" class="md-nav__link">
    SSE-S3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sse-kms" class="md-nav__link">
    SSE-KMS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucket-default-encryption" class="md-nav__link">
    Bucket Default Encryption
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-object-storage-class" class="md-nav__link">
    S3 Object Storage Class
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-lifecycle-configuration" class="md-nav__link">
    S3 Lifecycle Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-replication" class="md-nav__link">
    S3 Replication
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-presigned-urls" class="md-nav__link">
    S3 Presigned URLs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-select-and-glacier-select" class="md-nav__link">
    S3 Select and Glacier Select
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-events" class="md-nav__link">
    S3 Events
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#s3-access-logs" class="md-nav__link">
    S3 Access Logs
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/MarcosQiu/my-docs/edit/master/docs/AWS/Solution Architect Associate/Simple Storage Service(S3).md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Simple Storage Service(S3)</h1>
                
                <h2 id="s3-security-resource-policies-acls">S3 Security (Resource Policies &amp; ACLs)</h2>
<h2 id="s3-static-hosting">S3 Static Hosting</h2>
<ul>
<li>Normal access is via AWS APIs.</li>
<li>This feature allows access via HTTP.</li>
<li>Index and error documents are set (HTML file).</li>
<li>Website endpoint is created.</li>
<li>Custom domain via Route53, bucket name matters.</li>
</ul>
<h3 id="usage">Usage</h3>
<ul>
<li>Offloading: put static media in S3.</li>
<li>Out-of-band pages: have a static page to show some maintenance info.</li>
</ul>
<h3 id="pricing">Pricing</h3>
<ul>
<li>Data storage, per GB per month.</li>
<li>Data transfer fee.</li>
<li>Certain costs per 1000 operations.</li>
</ul>
<h2 id="object-versioning-mfa-delete">Object Versioning &amp; MFA Delete</h2>
<p>Versioning lets you store multiple versions of objects within a bucket. Operations which would modified objects generate a new version.</p>
<h3 id="enabledisablesuspend-versioning">Enable/Disable/Suspend Versioning</h3>
<ul>
<li>Versioning is on bucket level, it's turned off by default.</li>
<li>Once versioning is turned on, it can't be turned off.</li>
<li>After the versioning is turned on, you can suspend the versioning and turn it back to enabled later.</li>
</ul>
<h3 id="without-versioning">Without Versioning</h3>
<p>Objects are identified by key (name), their id are set to null.</p>
<h3 id="with-versioning">With Versioning</h3>
<p>Ids are allocated to objects. When retrieving, latest version are returned by default. But can get specific version individually as well.</p>
<p>When delete without giving version id, it just creates a new special version (delete marker) on top.</p>
<p>To actually remove a version, you just specify the version id that you want to remove.</p>
<h3 id="mfa-delete">MFA Delete</h3>
<ul>
<li>Enabled in versioning configuration.</li>
<li>MFA is required to change bucket versioning state.</li>
<li>MFA is required to delete versions.</li>
<li>Serial number (MFA) + Code passed with API calls.</li>
</ul>
<h2 id="s3-performance-optimization">S3 Performance Optimization</h2>
<h4 id="upload-objects-with-single-put-request">Upload objects with single PUT request</h4>
<ul>
<li>Single data stream to S3</li>
<li>If the stream fails, the upload fails and requires full restart</li>
<li>Speed &amp; reliability is limited because there is only one stream</li>
<li>Maximum object size of 5GB</li>
</ul>
<h4 id="upload-objects-with-multiple-put-requests">Upload objects with multiple PUT requests</h4>
<ul>
<li>Objects are broken up into smaller pieces</li>
<li>Minimum object size of 100MB to be able to turn on this feature</li>
<li>The object can be split into a maximum of 10000 pieces, for each piece, it can range in size between 5MB and 5GB</li>
<li>The last piece can be less than 5MB</li>
<li>The whole upload can partially fail, just need to restart for that part</li>
<li>Transfer rate equals to the sum of the speed of all parts</li>
</ul>
<h3 id="s3-accelerated-transfer">S3 accelerated transfer</h3>
<p>S3 is public regional service, <strong>using the public Internet for data transfer is never an optimal solution</strong>. To improve the performance, we can use the network of AWS edge locations. Data get transferred to the edge locations first, and then send to the bucket via AWS network. This feature is off by default, to turn it on,</p>
<ol>
<li>bucket name cannot contain periods,</li>
<li>it needs to be DNS compatiable in its naming.</li>
</ol>
<h2 id="encryption">Encryption</h2>
<h3 id="encryption-approaches">Encryption Approaches</h3>
<h4 id="encryption-at-rest">Encryption At Rest</h4>
<ul>
<li>one entity involved</li>
<li>e.g. encrypt data before writing to disk</li>
</ul>
<h4 id="encryption-in-transit">Encryption In Transit</h4>
<ul>
<li>Multiple individuals or systems involved</li>
<li>e.g. encrypted data before sending to others</li>
</ul>
<h3 id="encryption-concepts">Encryption Concepts</h3>
<ul>
<li>plaintext: unencrypted data, can be document, iamge, app, etc</li>
<li>algorithm: methods that used to generate encrypted data from plaintext and key</li>
<li>key: a token that is used to encrypt/decrypt data</li>
<li>cyphertext: encrypted data</li>
</ul>
<h3 id="symmetric-encryption">Symmetric Encryption</h3>
<p>Encrypt &amp; decrypt with the same key, however, distributing keys can be really tricky.</p>
<h3 id="asymmetric-encryption">Asymmetric Encryption</h3>
<p>Receiver distributes the public key, sender encrypts the plaintext with the public key. Only reciever can decrypt the cypher with its private key.</p>
<h3 id="signing">Signing</h3>
<p>Encrypt the message with own private key and others can decrypt the message with corresponding public key. Normally used for identity verification.</p>
<h3 id="steganography">Steganography</h3>
<p>Steganography is the practice of concealing a message within another message or a physical object. In computing contexts, a computer file, message, image is consealed within another file, message, image.</p>
<h2 id="key-management-service-kms">Key Management Service (KMS)</h2>
<ul>
<li>Regional &amp; public service</li>
<li>Create, store and manage keys</li>
<li>AWS managed/customer managed CMKs</li>
<li>Support symmetric &amp; asymmetric keys</li>
<li>Cryptographic opertions (encrypt, decrypt and more)</li>
<li><strong>Keys never leaves KMS</strong> - It provides <a href="https://en.wikipedia.org/wiki/Federal_Information_Processing_Standards">FIPS</a> 140 - 2 (L2)</li>
<li>Support aliases, which are also isolated to regions</li>
</ul>
<h3 id="cmk-customer-master-key">CMK - Customer Master Key</h3>
<ul>
<li>CMK is logical, has ID, date, policy, desc &amp; state</li>
<li>backed by phsical key material</li>
<li>generated or imported</li>
<li>CMKs can be used for up to 4KB of data</li>
</ul>
<h3 id="kms-and-cmks">KMS and CMKs</h3>
<p><img alt="image" src="https://i.ibb.co/kmQy30w/IMG-0545.jpg" /></p>
<h3 id="data-encryption-keys-deks">Data Encryption Keys (DEKs)</h3>
<p>DEKs are generated from CMK, used to decrypt/encrypt on data &gt; 4KB. However, this is not part of the KMS, you or the other service need to do this. This is how it works,</p>
<ol>
<li>Generate plaintext version of DEK and cyphertext version of DEK.</li>
<li>Encrypt the data using plaintext key &amp; discard it.</li>
<li>Store the encrypted key with the data.</li>
<li>When decrypt, first decrypt the DEK with KMS.</li>
<li>Decrypt the cypher text with the decrypted DEK, and discard the DEK afterwards.</li>
</ol>
<p>S3 basically generate a DEK for each object that needs to be encrypted.</p>
<h2 id="object-encryption">Object Encryption</h2>
<p>We are talking about encrypting objects, buckets aren't encrypted. There are two types of encryptions,</p>
<ul>
<li>Client-side encryption: Objects are encrypted on users side, users are responsible for managing the keys, performing encryption/decryption. AWS is not involved in the encryption.</li>
<li>Server-side encryption: The user send the plaintext (to the other parties, it's still encrypted in transit, but s3 endpoint will receive plaintext) and the encryption happens on the server side.</li>
</ul>
<p>We mainly focus on server-side encryption.</p>
<h3 id="sse-c">SSE-C</h3>
<ul>
<li>Server-side encryption with customer provided keys.</li>
<li>Users are responsible for managing keys.</li>
<li>Users send object and key to s3 endpoint, on the server side, object is encrypted and a hash of the key is generated, then, the server writes the key hash and cyphertext to the storage, and discard the key.</li>
<li>When fetch object, users provide the key to decrypt objects they want to fetch, the server will generate the hash and compare with the key hash stored in storage.</li>
</ul>
<h3 id="sse-s3">SSE-S3</h3>
<ul>
<li>S3 endpoints handles encryption/decryption processes and key management, so there is no admin overhead.</li>
<li>For each object, s3 generates an unqie key to encrypt the object, and encrypts the key with a master key, the encrypted object &amp; key pair is kept in storage.</li>
<li>It's not suitable if: <ol>
<li>you need to control &amp; get access to keys </li>
<li>you need to take control of key rotation </li>
<li>you need role separation (different roles have different set of permissions)</li>
</ol>
</li>
</ul>
<h3 id="sse-kms">SSE-KMS</h3>
<ul>
<li>Different from SSE-S3, an AWS managed CMK is generated in KMS to encrypt the keys.</li>
<li>S3 is provided with a pair of DEKs, a plaintext and an encrypted versions, to encrypt the object.</li>
<li>Instead of using AMS managed CMK, can also use customer CMK.</li>
<li>It gives control ono the key management &amp; key rotation.</li>
<li>It makes role separation possible (S3 admin that has no access to KMS cannot see the content of the objects in S3).</li>
</ul>
<h3 id="bucket-default-encryption">Bucket Default Encryption</h3>
<p>When uploading, can hae the header <code>x-amz-server-side-encryption</code> in request, to specify the encryption type, e.g.</p>
<ul>
<li><code>AMS256</code> -&gt; <code>SSE-S3</code></li>
<li><code>aws:kms</code> -&gt; <code>SSE-KMS</code></li>
</ul>
<h2 id="s3-object-storage-class">S3 Object Storage Class</h2>
<h2 id="s3-lifecycle-configuration">S3 Lifecycle Configuration</h2>
<h2 id="s3-replication">S3 Replication</h2>
<h2 id="s3-presigned-urls">S3 Presigned URLs</h2>
<h2 id="s3-select-and-glacier-select">S3 Select and Glacier Select</h2>
<h2 id="s3-events">S3 Events</h2>
<h2 id="s3-access-logs">S3 Access Logs</h2>
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>var script,disqus_config=function(){this.page.url="http://yankunqiu.me/AWS/Solution%20Architect%20Associate/Simple%20Storage%20Service%28S3%29/",this.page.identifier="AWS/Solution%20Architect%20Associate/Simple%20Storage%20Service%28S3%29/"};"undefined"==typeof DISQUS?((script=document.createElement("script")).async=!0,script.src="https://mydocs-2.disqus.com/embed.js",script.setAttribute("data-timestamp",Date.now()),document.body.appendChild(script)):DISQUS.reset({reload:!0,config:disqus_config})</script>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../.." class="md-footer__link md-footer__link--prev" aria-label="Previous: Welcome!" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Welcome!
            </div>
          </div>
        </a>
      
      
        
        <a href="../../../C%2B%2B%20Primer%20Plus%20Solutions/Chapter%202/" class="md-footer__link md-footer__link--next" aria-label="Next: Chapter 2" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Chapter 2
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 Yankun Qiu
          </div>
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://www.linkedin.com/in/yankunqiu/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://github.com/MarcosQiu" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
      <a href="mailto:hola@yankunqiu.me" target="_blank" rel="noopener" title="" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M476 3.2 12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.top", "search.suggest"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b1047164.min.js"></script>
      
    
  </body>
</html>